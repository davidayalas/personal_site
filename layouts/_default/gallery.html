<!DOCTYPE HTML>
<!--
	Helios by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	{{ $p := .Site.GetPage "page" "home.md" }}
	<head>
		{{ partial "head.html" (dict "data" $p)}}
	</head>
	<body class="no-sidebar {{.Section}}">
		<div id="page-wrapper">

				<div id="header">
					<!-- Inner -->
					<div class="inner">
						<header>
							<h1>{{ .Title }}</h1>
						</header>
					</div>
					<nav id="nav">
						<ul>
							<li style="white-space: nowrap;"><a href="/">Home</a></li>
						</ul>
					</nav>					
				</div>


				{{ if eq .Section "gallery" }}
				<section class="image-list">
					{{ $pagesperpage := 9}}	
					{{ $mediaPage := .Site.GetPage "page" "media/index.md"}}
					{{ $paginator := .Paginate (where .Data.Pages "Section" "gallery") $pagesperpage}}

					{{ $initimage := add (mul (sub $paginator.PageNumber 1) $pagesperpage) 1 }}

					{{ $.Scratch.Set "numimages" $pagesperpage}}
					{{ if lt (len $paginator.Pages) $pagesperpage }}
						{{ $.Scratch.Set "numimages" (len $paginator.Pages) }}	
					{{ end }}

					<h3 style="text-align: center; margin-bottom: 1em">Images {{ $initimage }} - {{ add $initimage (sub ($.Scratch.Get "numimages") 1)}}</h3>

					<ul class="{{ .Section }}">
						{{ range $paginator.Pages }}
			            	{{ if .Params.image }}
				              	{{ $image := $mediaPage.Resources.GetMatch (replace .Params.image "/media/" "") }}            
			              		{{ $thumb := $image.Fill "320x320 q90" }}
								<li><a href="{{.URL}}" class=""><img src="{{$thumb.RelPermalink}}" alt="{{.Title}}" /></a><p>{{ .Title }}</p></li>
								{{ end }}
						{{ end }}
					</ul>

				</section>
				{{ template "_internal/pagination.html" . }}

				{{ end }}

				{{ partial "footer.html" (dict "context" . "data" $p) }}
	</body>
</html>
