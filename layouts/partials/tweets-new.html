{{ $c := .context }}

{{ $scratch := newScratch }}
{{ $scratch.Set "pinned" "" }}

{{ $pinned := $c.Site.GetPage "/pinned/pinned.md" }} 
{{ if $pinned }}
  {{ $scratch.Set "pinned" $pinned.Params.id }}
  {{ partial "tweet.html" (dict "context" $pinned "index" 1 "pinned" $pinned.Params.id ) }}
{{ end }}

{{ range $index, $tweet := first 30 (where $c.Site.Pages "Section" "tweets") }}
  {{ partial "tweet.html" (dict "context" . "index" $index "pinned" ($scratch.Get "pinned") ) }}
{{ end }}
